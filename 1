# ==== FILE: components/LanguageBar.tsx
"use client";
import { useRouter, usePathname } from "next/navigation";

export default function LanguageBar(){
  const router = useRouter();
  const pathname = usePathname();
  const current = pathname.split("/")[1]; // "", "ar", "ur", "bn"
  const value = ["ar","ur","bn"].includes(current) ? current : "en";
  function go(locale: string){
    if(locale === value) return;
    if(locale === "en") router.push("/");
    else router.push(`/${locale}`);
  }
  return (
    <div className="bg-white/70 border-b">
      <div className="max-w-5xl mx-auto px-4 py-2 flex items-center justify-end gap-2 text-sm">
        <label htmlFor="lang" className="text-slate-600">Language:</label>
        <select id="lang" className="px-3 py-1 rounded-xl border" value={value} onChange={(e)=>go(e.target.value)}>
          <option value="en">EN</option>
          <option value="ar">AR</option>
          <option value="ur">UR</option>
          <option value="bn">BN</option>
        </select>
      </div>
    </div>
  );
}

# ==== PATCH: app/page.tsx (insert LanguageBar under header)
// 1) Add import near the top:
// import LanguageBar from "../components/LanguageBar";
// 2) Render just below </header>:
//   </header>
//   <LanguageBar />
//   <main className="max-w-5xl ...">

# ==== PATCH: app/page.tsx (replace footer with links)
// Replace the existing <footer>...</footer> with:
/*
<footer className="py-10 text-center text-xs text-slate-500">
  <nav className="flex items-center justify-center gap-4 mb-2">
    <a className="hover:underline" href="/blog">Blog</a>
    <a className="hover:underline" href="/about">About</a>
    <a className="hover:underline" href="/privacy">Privacy</a>
    <a className="hover:underline" href="/terms">Terms</a>
  </nav>
  Built for the Ummah — keep it free, privacy-first. © {new Date().getFullYear()}
</footer>
*/

# ==== FILE: app/blog/page.tsx (blog index with 4 posts)
import Link from "next/link";

type Post = { slug: string; title: string; excerpt: string; date: string };
const posts: Post[] = [
  { slug: "salah-streak", title: "How to Build a 30‑Day Salah Streak", excerpt: "A Sunnah‑aligned, science‑backed plan to pray on time for 30 days.", date: "2025-08-16" },
  { slug: "dhikr-game", title: "Dhikr Game: Turn SubhanAllah into Rewards", excerpt: "Gamify SubhanAllah, Alhamdulillah, Allahu Akbar, and La hawla into XP & badges.", date: "2025-08-17" },
  { slug: "quran-daily", title: "Qur’an Every Day: The 1‑Page Method", excerpt: "Build a sustainable daily Qur’an habit with a simple 1‑page plan.", date: "2025-08-17" },
  { slug: "ramadan-tracker", title: "Ramadan Habit Tracker (Free)", excerpt: "Your complete Ramadan routine: salah, Qur’an, dhikr, sadaqah, sleep.", date: "2025-08-17" },
];

export default function BlogIndex() {
  return (
    <main className="max-w-4xl mx-auto px-4 py-10">
      <h1 className="text-3xl font-bold mb-6">Blog</h1>
      <div className="grid md:grid-cols-2 gap-6">
        {posts.map((p) => (
          <Link key={p.slug} href={`/blog/${p.slug}`} className="block p-5 rounded-2xl border bg-white hover:shadow">
            <time className="text-xs text-slate-500">{new Date(p.date).toLocaleDateString()}</time>
            <h2 className="text-xl font-semibold mt-1">{p.title}</h2>
            <p className="text-slate-600 mt-2">{p.excerpt}</p>
            <span className="inline-block mt-3 text-emerald-700 font-medium">Read →</span>
          </Link>
        ))}
      </div>
    </main>
  );
}

# ==== FILE: app/blog/dhikr-game/page.tsx
import type { Metadata } from "next";
export const metadata: Metadata = {
  title: "Dhikr Game: Turn SubhanAllah into Rewards",
  description: "Gamify SubhanAllah, Alhamdulillah, Allahu Akbar, and La hawla into XP & badges.",
  alternates: { canonical: "/blog/dhikr-game" },
  openGraph: { type: "article", title: "Dhikr Game: Turn SubhanAllah into Rewards", description: "How to use the tracker’s counters for an engaging dhikr routine." }
};
export default function Page(){
  const jsonLd = { "@context":"https://schema.org", "@type":"Article", headline:"Dhikr Game: Turn SubhanAllah into Rewards", author:{"@type":"Person", name:"Islamic Habits"}, datePublished:"2025-08-17", image:"https://islamic-habits.com/og-cover.svg", mainEntityOfPage:"https://islamic-habits.com/blog/dhikr-game" };
  return (
    <main className="prose prose-slate max-w-3xl mx-auto px-4 py-8">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />
      <h1>Dhikr Game: Turn SubhanAllah into Rewards</h1>
      <p>Use the built‑in counters for SubhanAllah (33), Alhamdulillah (33), Allahu Akbar (34), and La hawla… to build a joyful remembrance routine.</p>
    </main>
  );
}

# ==== FILE: app/blog/quran-daily/page.tsx
import type { Metadata } from "next";
export const metadata: Metadata = {
  title: "Qur’an Every Day: The 1‑Page Method",
  description: "Build a sustainable daily Qur’an habit with a simple 1‑page plan.",
  alternates: { canonical: "/blog/quran-daily" },
  openGraph: { type: "article", title: "Qur’an Every Day: The 1‑Page Method", description: "Consistency over intensity; start with one page." }
};
export default function Page(){
  const jsonLd = { "@context":"https://schema.org", "@type":"Article", headline:"Qur’an Every Day: The 1‑Page Method", author:{"@type":"Person", name:"Islamic Habits"}, datePublished:"2025-08-17", image:"https://islamic-habits.com/og-cover.svg", mainEntityOfPage:"https://islamic-habits.com/blog/quran-daily" };
  return (
    <main className="prose prose-slate max-w-3xl mx-auto px-4 py-8">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />
      <h1>Qur’an Every Day: The 1‑Page Method</h1>
      <p>Reading one page daily compounds faster than sporadic long sessions. Use the tracker’s pages field and streaks for motivation.</p>
    </main>
  );
}

# ==== FILE: app/blog/ramadan-tracker/page.tsx
import type { Metadata } from "next";
export const metadata: Metadata = {
  title: "Ramadan Habit Tracker (Free)",
  description: "Your complete Ramadan routine: salah, Qur’an, dhikr, sadaqah, sleep.",
  alternates: { canonical: "/blog/ramadan-tracker" },
  openGraph: { type: "article", title: "Ramadan Habit Tracker (Free)", description: "Make Ramadan consistent and balanced with a simple daily plan." }
};
export default function Page(){
  const jsonLd = { "@context":"https://schema.org", "@type":"Article", headline:"Ramadan Habit Tracker (Free)", author:{"@type":"Person", name:"Islamic Habits"}, datePublished:"2025-08-17", image:"https://islamic-habits.com/og-cover.svg", mainEntityOfPage:"https://islamic-habits.com/blog/ramadan-tracker" };
  return (
    <main className="prose prose-slate max-w-3xl mx-auto px-4 py-8">
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />
      <h1>Ramadan Habit Tracker (Free)</h1>
      <p>Use our tracker to keep salah on time, read Qur’an daily, keep your dhikr flowing, give sadaqah, and protect sleep for suhoor and Fajr.</p>
    </main>
  );
}
